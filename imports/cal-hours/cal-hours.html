<link href='../bower_components/fullcalendar/dist/fullcalendar.min.css' rel='stylesheet' />
<link href='../bower_components/fullcalendar/dist/fullcalendar.print.min.css' rel='stylesheet' media='print' />

<script src='../bower_components/moment/min/moment.min.js'></script>
<script src='../bower_components/fullcalendar/dist/fullcalendar.min.js'></script>

<template id="cal-temp">
  <style>
    #calendar {
  	  max-width: 100%;
  	  margin: 0 auto;
  	}
  </style>
  <div class="container well">
    <div id='calendar'></div>
  </div>
</template>

<script>
  (function() {
    var importDoc = document.currentScript.ownerDocument; // importee
    var proto = Object.create(HTMLElement.prototype, {
      createdCallback: {
        value: function() {
          var t = importDoc.querySelector('#cal-temp');
          var clone = document.importNode(t.content, true);
          this.appendChild(clone);
        }
      }
    });

    document.registerElement('cal-hours', {prototype: proto});

    $(document).ready(function() {
      $('#calendar').fullCalendar({
    		editable: false,
    		handleWindowResize: true,
    		defaultView: 'agendaWeek',
    		displayEventTime: false,
    		allDaySlot: false,
    		firstDay: 1
    	});
    });

    function addCalEvent(startHour, startMin, endHour, endMin) {
        var newEvent = new Object();

        newEvent.title = "Pending Changes";
        newEvent.start = new Date();
        newEvent.end = new Date();
        newEvent.start.setHours(startHour,startMin,0,0);
        newEvent.end.setHours(endHour,endMin,0,0);
        newEvent.allDay = false;
        $('#calendar').fullCalendar('removeEvents') //Hide all events
        $('#calendar').fullCalendar( 'renderEvent', newEvent );
    }
  })();
</script>
